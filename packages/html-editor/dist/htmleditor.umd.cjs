(function(L,b){typeof exports=="object"&&typeof module<"u"?b(exports,require("react"),require("uuid")):typeof define=="function"&&define.amd?define(["exports","react","uuid"],b):(L=typeof globalThis<"u"?globalThis:L||self,b(L.HTMLEditor={},L.React,L.uuid))})(this,(function(L,b,Se){"use strict";function Dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var me={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je;function Lt(){if(Je)return fe;Je=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:e,type:n,key:a,ref:r!==void 0?r:null,props:s}}return fe.Fragment=t,fe.jsx=i,fe.jsxs=i,fe}var pe={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe;function zt(){return Xe||(Xe=1,process.env.NODE_ENV!=="production"&&(function(){function e(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ie?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case N:return"Suspense";case Z:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(typeof o.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),o.$$typeof){case h:return"Portal";case S:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case l:var m=o.render;return o=o.displayName,o||(o=m.displayName||m.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return m=o.displayName||null,m!==null?m:e(o.type)||"Memo";case W:m=o._payload,o=o._init;try{return e(o(m))}catch{}}return null}function t(o){return""+o}function i(o){try{t(o);var m=!1}catch{m=!0}if(m){m=console;var A=m.error,T=typeof Symbol=="function"&&Symbol.toStringTag&&o[Symbol.toStringTag]||o.constructor.name||"Object";return A.call(m,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",T),t(o)}}function n(o){if(o===O)return"<>";if(typeof o=="object"&&o!==null&&o.$$typeof===W)return"<...>";try{var m=e(o);return m?"<"+m+">":"<...>"}catch{return"<...>"}}function r(){var o=re.A;return o===null?null:o.getOwner()}function s(){return Error("react-stack-top-frame")}function a(o){if(se.call(o,"key")){var m=Object.getOwnPropertyDescriptor(o,"key").get;if(m&&m.isReactWarning)return!1}return o.key!==void 0}function u(o,m){function A(){K||(K=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",m))}A.isReactWarning=!0,Object.defineProperty(o,"key",{get:A,configurable:!0})}function g(){var o=e(this.type);return V[o]||(V[o]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),o=this.props.ref,o!==void 0?o:null}function p(o,m,A,T,D,M){var C=A.ref;return o={$$typeof:x,type:o,key:m,props:A,_owner:T},(C!==void 0?C:null)!==null?Object.defineProperty(o,"ref",{enumerable:!1,get:g}):Object.defineProperty(o,"ref",{enumerable:!1,value:null}),o._store={},Object.defineProperty(o._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(o,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(o,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:D}),Object.defineProperty(o,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:M}),Object.freeze&&(Object.freeze(o.props),Object.freeze(o)),o}function E(o,m,A,T,D,M){var C=m.children;if(C!==void 0)if(T)if(oe(C)){for(T=0;T<C.length;T++)y(C[T]);Object.freeze&&Object.freeze(C)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else y(C);if(se.call(m,"key")){C=e(o);var R=Object.keys(m).filter(function(z){return z!=="key"});T=0<R.length?"{key: someKey, "+R.join(": ..., ")+": ...}":"{key: someKey}",f[C+T]||(R=0<R.length?"{"+R.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,T,C,R,C),f[C+T]=!0)}if(C=null,A!==void 0&&(i(A),C=""+A),a(m)&&(i(m.key),C=""+m.key),"key"in m){A={};for(var $ in m)$!=="key"&&(A[$]=m[$])}else A=m;return C&&u(A,typeof o=="function"?o.displayName||o.name||"Unknown":o),p(o,C,A,r(),D,M)}function y(o){d(o)?o._store&&(o._store.validated=1):typeof o=="object"&&o!==null&&o.$$typeof===W&&(o._payload.status==="fulfilled"?d(o._payload.value)&&o._payload.value._store&&(o._payload.value._store.validated=1):o._store&&(o._store.validated=1))}function d(o){return typeof o=="object"&&o!==null&&o.$$typeof===x}var w=b,x=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ie=Symbol.for("react.client.reference"),re=w.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=Object.prototype.hasOwnProperty,oe=Array.isArray,ce=console.createTask?console.createTask:function(){return null};w={react_stack_bottom_frame:function(o){return o()}};var K,V={},Q=w.react_stack_bottom_frame.bind(w,s)(),te=ce(n(s)),f={};pe.Fragment=O,pe.jsx=function(o,m,A){var T=1e4>re.recentlyCreatedOwnerStacks++;return E(o,m,A,!1,T?Error("react-stack-top-frame"):Q,T?ce(n(o)):te)},pe.jsxs=function(o,m,A){var T=1e4>re.recentlyCreatedOwnerStacks++;return E(o,m,A,!0,T?Error("react-stack-top-frame"):Q,T?ce(n(o)):te)}})()),pe}var Qe;function $t(){return Qe||(Qe=1,process.env.NODE_ENV==="production"?me.exports=Lt():me.exports=zt()),me.exports}var c=$t();const Oe=100,we=50,Ne=200,et=5,Me=e=>e<Ne,je=e=>e>we,Bt=96,ye=e=>Math.round(e*Bt),be={NORMAL:{name:"Normal",label:'Normal (1")',top:1,bottom:1,left:1,right:1},NARROW:{name:"Narrow",label:'Narrow (0.5")',top:.5,bottom:.5,left:.5,right:.5},MODERATE:{name:"Moderate",label:'Moderate (1" / 0.75")',top:1,bottom:1,left:.75,right:.75},WIDE:{name:"Wide",label:'Wide (1" / 2")',top:1,bottom:1,left:2,right:2},OFFICE_2003:{name:"Office 2003",label:'Office 2003 (1" / 1.25")',top:1,bottom:1,left:1.25,right:1.25}},ae="NORMAL",tt=(e=ae)=>{const t=be[e]||be[ae];return{top:ye(t.top),bottom:ye(t.bottom),left:ye(t.left),right:ye(t.right)}},Ut=(e=ae)=>{const t=tt(e);return t.top+t.bottom},Ht=()=>Object.keys(be),Zt=e=>{const t=be[e];return t?t.label:"Unknown"},X={A4:{name:"A4",width:794,height:1123,widthMm:210,heightMm:297,widthIn:8.27,heightIn:11.69},Letter:{name:"Letter",width:816,height:1056,widthMm:216,heightMm:279,widthIn:8.5,heightIn:11},Legal:{name:"Legal",width:816,height:1344,widthMm:216,heightMm:356,widthIn:8.5,heightIn:14}},Re="A4",Ee=e=>{const t=X[e]||X[Re];return{width:t.width,height:t.height}},Gt=e=>Object.keys(X).includes(e),qt=()=>Object.keys(X),ge=Re,le="<p><br></p>",Ft="continuous",he=(e,t=ge)=>({id:Se.v4(),index:e,size:t,content:le,images:[],isBreakPoint:!1}),ve=e=>typeof e!="string"||e.trim()===""?le:e,nt=(e,t=ge)=>(e.length>0?e:[he(0,t)]).map((n,r)=>({id:n.id||Se.v4(),index:r,size:n.size||t,content:ve(n.content),images:n.images||[],isBreakPoint:!!n.isBreakPoint})),Yt=(e=ge)=>[{id:"page-0",pageNumber:1,top:0,height:Ee(e).height}],Ie=(e={})=>{const t=new Date().toISOString(),i=e.pageSize||ge,n=nt(e.pages||[he(0,i)],i);return{id:Se.v4(),title:e.title||"Untitled Document",createdAt:t,updatedAt:t,pageSize:i,pages:n,activePage:e.activePage&&e.activePage<n.length?e.activePage:0,pageBreaks:e.pageBreaks||[],totalPages:n.length,editorMode:e.editorMode||Ft,continuousContent:e.continuousContent||le,pageBoundaries:e.pageBoundaries||Yt(i),zoomLevel:e.zoomLevel||Oe,pageMargins:e.pageMargins||ae}},I={INITIALIZE_DOCUMENT:"INITIALIZE_DOCUMENT",UPDATE_TITLE:"UPDATE_TITLE",UPDATE_PAGE_CONTENT:"UPDATE_PAGE_CONTENT",UPDATE_PAGES:"UPDATE_PAGES",ADD_PAGE:"ADD_PAGE",DELETE_PAGE:"DELETE_PAGE",SET_ACTIVE_PAGE:"SET_ACTIVE_PAGE",UPDATE_PAGE_SIZE:"UPDATE_PAGE_SIZE",RESET_DOCUMENT:"RESET_DOCUMENT",UPDATE_CONTINUOUS_CONTENT:"UPDATE_CONTINUOUS_CONTENT",UPDATE_PAGE_BOUNDARIES:"UPDATE_PAGE_BOUNDARIES",ADD_PAGE_BREAK:"ADD_PAGE_BREAK",REMOVE_PAGE_BREAK:"REMOVE_PAGE_BREAK",SET_EDITOR_MODE:"SET_EDITOR_MODE",INSERT_PAGE_AT:"INSERT_PAGE_AT",MOVE_PAGE_TO:"MOVE_PAGE_TO",DUPLICATE_PAGE:"DUPLICATE_PAGE",SET_ZOOM_LEVEL:"SET_ZOOM_LEVEL",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",RESET_ZOOM:"RESET_ZOOM",UPDATE_PAGE_MARGINS:"UPDATE_PAGE_MARGINS"},Vt=(e,t)=>{const i=new Date().toISOString();switch(t.type){case I.INITIALIZE_DOCUMENT:{const{initialContent:n=le,pageSize:r=ge}=t.payload||{},s={...he(0,r),content:ve(n)};return Ie({title:e.title,pageSize:r,pages:[s]})}case I.UPDATE_TITLE:return{...e,title:t.payload,updatedAt:i};case I.UPDATE_PAGE_CONTENT:{const{pageIndex:n,content:r}=t.payload;if(n<0||n>=e.pages.length)return e;const s=[...e.pages];return s[n]={...s[n],content:ve(r)},{...e,pages:s,updatedAt:i}}case I.UPDATE_PAGES:{const n=Array.isArray(t.payload)?{pages:t.payload}:t.payload||{},r=nt(n.pages||[],e.pageSize),s=Array.isArray(n.pageBreaks)?n.pageBreaks:r.slice(0,-1).map((a,u)=>({id:`auto-break-${u}`,pageNumber:u+1}));return{...e,pages:r,activePage:Math.min(e.activePage,r.length-1),pageBreaks:s,totalPages:r.length,updatedAt:i}}case I.ADD_PAGE:{const n=typeof t.payload?.index=="number"?Math.min(Math.max(t.payload.index,0),e.pages.length):e.pages.length,r=[...e.pages];r.splice(n,0,he(n,e.pageSize));const s=r.map((u,g)=>({...u,index:g,size:e.pageSize})),a=s.slice(0,-1).map((u,g)=>({id:`auto-break-${g}`,pageNumber:g+1}));return{...e,pages:s,activePage:n,pageBreaks:a,totalPages:s.length,updatedAt:i}}case I.DELETE_PAGE:{const n=t.payload;if(e.pages.length<=1)return e;const r=[...e.pages];r.splice(n,1);const s=r.map((g,p)=>({...g,index:p,size:e.pageSize}));let a=e.activePage;a>=s.length?a=s.length-1:n<=a&&a>0&&(a-=1);const u=s.slice(0,-1).map((g,p)=>({id:`auto-break-${p}`,pageNumber:p+1}));return{...e,pages:s,activePage:a,pageBreaks:u,totalPages:s.length,updatedAt:i}}case I.SET_ACTIVE_PAGE:{const n=t.payload;if(n===e.activePage)return e;const r=e.editorMode==="continuous"?e.pageBoundaries.length:e.pages.length;return n<0||n>=r?e:{...e,activePage:n,updatedAt:i}}case I.UPDATE_PAGE_SIZE:{const n=t.payload;if(n===e.pageSize)return e;try{Ee(n)}catch{return console.warn(`Invalid page size: ${n}`),e}const r=e.pages.map((a,u)=>({...a,index:u,size:n})),s=r.slice(0,-1).map((a,u)=>({id:`auto-break-${u}`,pageNumber:u+1}));return{...e,pageSize:n,pages:r,pageBreaks:s,updatedAt:i}}case I.RESET_DOCUMENT:return Ie();case I.UPDATE_CONTINUOUS_CONTENT:{const n=ve(t.payload);return n===e.continuousContent?e:{...e,continuousContent:n,updatedAt:i}}case I.UPDATE_PAGE_BOUNDARIES:{const n=Array.isArray(t.payload)?t.payload:[];if(n.length===e.pageBoundaries.length&&n.length>0&&n[0].id===e.pageBoundaries[0]?.id&&n[n.length-1].id===e.pageBoundaries[n.length-1]?.id)return e;const r=e.activePage>=n.length?Math.max(0,n.length-1):e.activePage;return{...e,pageBoundaries:n,totalPages:n.length,activePage:r,updatedAt:i}}case I.ADD_PAGE_BREAK:{const{position:n="end",pageIndex:r}=t.payload||{},s='<page-break data-page-break="true" style="display: block; height: 20px; border-top: 2px dashed #ccc; margin: 20px 0; page-break-after: always;"></page-break>';let a=e.continuousContent;if(n==="end")a=a+s+"<p><br></p>";else if(typeof n=="number"){const u=a.substring(0,n),g=a.substring(n);a=u+s+g}else if(typeof r=="number"&&typeof document<"u"){const u=document.createElement("div");u.innerHTML=a;const g=u.querySelectorAll('page-break, [data-page-break="true"]');if(r===0&&g.length===0)a=a+s+"<p><br></p>";else if(r<g.length){const p=g[r],E=document.createElement("page-break");E.setAttribute("data-page-break","true"),E.setAttribute("style","display: block; height: 20px; border-top: 2px dashed #ccc; margin: 20px 0; page-break-after: always;");const y=document.createElement("p");y.innerHTML="<br>",p.parentNode.insertBefore(E,p.nextSibling),E.parentNode.insertBefore(y,E.nextSibling),a=u.innerHTML}else a=a+s+"<p><br></p>"}return{...e,continuousContent:a,updatedAt:i}}case I.REMOVE_PAGE_BREAK:{const{pageIndex:n}=t.payload||{};if(typeof n!="number"||typeof document>"u")return e;const r=document.createElement("div");r.innerHTML=e.continuousContent;const s=r.querySelectorAll('page-break, [data-page-break="true"]');return s[n]&&s[n].remove(),r.querySelectorAll('page-break, [data-page-break="true"]').forEach((u,g)=>{u.setAttribute("data-page-number",String(g+2))}),{...e,continuousContent:r.innerHTML,updatedAt:i}}case I.SET_EDITOR_MODE:{const n=t.payload;if(n===e.editorMode)return e;let r=e.continuousContent,s=e.pages;return n==="continuous"?r=e.pages.map(u=>u.content).filter(u=>u&&u!==le).join(`
`)||le:e.continuousContent&&e.continuousContent!==le&&(s=[{...he(0,e.pageSize),content:e.continuousContent}]),{...e,editorMode:n,continuousContent:r,pages:s,updatedAt:i}}case I.SET_ZOOM_LEVEL:{const n=t.payload;return n<we||n>Ne?(console.warn(`Invalid zoom level: ${n}. Must be between ${we} and ${Ne}.`),e):n===e.zoomLevel?e:{...e,zoomLevel:n,updatedAt:i}}case I.ZOOM_IN:{if(!Me(e.zoomLevel))return e;const n=e.zoomLevel+et;return{...e,zoomLevel:n,updatedAt:i}}case I.ZOOM_OUT:{if(!je(e.zoomLevel))return e;const n=e.zoomLevel-et;return{...e,zoomLevel:n,updatedAt:i}}case I.RESET_ZOOM:return e.zoomLevel===Oe?e:{...e,zoomLevel:Oe,updatedAt:i};case I.UPDATE_PAGE_MARGINS:{const n=t.payload;return n===e.pageMargins?e:{...e,pageMargins:n,updatedAt:i}}default:return e}},rt=b.createContext(null),Wt=({children:e,initialState:t={}})=>{const[i,n]=b.useReducer(Vt,Ie(t)),r=b.useMemo(()=>({initializeDocument:a=>n({type:I.INITIALIZE_DOCUMENT,payload:a}),updateTitle:a=>n({type:I.UPDATE_TITLE,payload:a}),updatePageContent:a=>n({type:I.UPDATE_PAGE_CONTENT,payload:a}),updatePages:a=>n({type:I.UPDATE_PAGES,payload:a}),addPage:a=>n({type:I.ADD_PAGE,payload:a}),deletePage:a=>n({type:I.DELETE_PAGE,payload:a}),setActivePage:a=>n({type:I.SET_ACTIVE_PAGE,payload:a}),updatePageSize:a=>n({type:I.UPDATE_PAGE_SIZE,payload:a}),resetDocument:()=>n({type:I.RESET_DOCUMENT}),updateContinuousContent:a=>n({type:I.UPDATE_CONTINUOUS_CONTENT,payload:a}),updatePageBoundaries:a=>n({type:I.UPDATE_PAGE_BOUNDARIES,payload:a}),addPageBreak:a=>n({type:I.ADD_PAGE_BREAK,payload:a}),removePageBreak:a=>n({type:I.REMOVE_PAGE_BREAK,payload:a}),setEditorMode:a=>n({type:I.SET_EDITOR_MODE,payload:a}),insertPageAt:a=>n({type:I.INSERT_PAGE_AT,payload:a}),movePageTo:a=>n({type:I.MOVE_PAGE_TO,payload:a}),duplicatePage:a=>n({type:I.DUPLICATE_PAGE,payload:a}),setZoomLevel:a=>n({type:I.SET_ZOOM_LEVEL,payload:a}),zoomIn:()=>n({type:I.ZOOM_IN}),zoomOut:()=>n({type:I.ZOOM_OUT}),resetZoom:()=>n({type:I.RESET_ZOOM}),updatePageMargins:a=>n({type:I.UPDATE_PAGE_MARGINS,payload:a})}),[]),s=b.useMemo(()=>({state:i,actions:r,dispatch:n}),[i,r]);return c.jsx(rt.Provider,{value:s,children:e})},De=()=>{const e=b.useContext(rt);if(!e)throw new Error("useDocument must be used within a DocumentProvider");return e},Le=()=>{const{state:e}=De();return e},ze=()=>{const{actions:e}=De();return e};var _e={exports:{}},xe={exports:{}},U={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot;function Kt(){if(ot)return U;ot=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,g=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,E=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,w=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,O=e?Symbol.for("react.fundamental"):60117,B=e?Symbol.for("react.responder"):60118,P=e?Symbol.for("react.scope"):60119;function k(l){if(typeof l=="object"&&l!==null){var N=l.$$typeof;switch(N){case t:switch(l=l.type,l){case g:case p:case n:case s:case r:case y:return l;default:switch(l=l&&l.$$typeof,l){case u:case E:case x:case w:case a:return l;default:return N}}case i:return N}}}function S(l){return k(l)===p}return U.AsyncMode=g,U.ConcurrentMode=p,U.ContextConsumer=u,U.ContextProvider=a,U.Element=t,U.ForwardRef=E,U.Fragment=n,U.Lazy=x,U.Memo=w,U.Portal=i,U.Profiler=s,U.StrictMode=r,U.Suspense=y,U.isAsyncMode=function(l){return S(l)||k(l)===g},U.isConcurrentMode=S,U.isContextConsumer=function(l){return k(l)===u},U.isContextProvider=function(l){return k(l)===a},U.isElement=function(l){return typeof l=="object"&&l!==null&&l.$$typeof===t},U.isForwardRef=function(l){return k(l)===E},U.isFragment=function(l){return k(l)===n},U.isLazy=function(l){return k(l)===x},U.isMemo=function(l){return k(l)===w},U.isPortal=function(l){return k(l)===i},U.isProfiler=function(l){return k(l)===s},U.isStrictMode=function(l){return k(l)===r},U.isSuspense=function(l){return k(l)===y},U.isValidElementType=function(l){return typeof l=="string"||typeof l=="function"||l===n||l===p||l===s||l===r||l===y||l===d||typeof l=="object"&&l!==null&&(l.$$typeof===x||l.$$typeof===w||l.$$typeof===a||l.$$typeof===u||l.$$typeof===E||l.$$typeof===O||l.$$typeof===B||l.$$typeof===P||l.$$typeof===h)},U.typeOf=k,U}var H={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at;function Jt(){return at||(at=1,process.env.NODE_ENV!=="production"&&(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,r=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,g=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,E=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,w=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,O=e?Symbol.for("react.fundamental"):60117,B=e?Symbol.for("react.responder"):60118,P=e?Symbol.for("react.scope"):60119;function k(v){return typeof v=="string"||typeof v=="function"||v===n||v===p||v===s||v===r||v===y||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===x||v.$$typeof===w||v.$$typeof===a||v.$$typeof===u||v.$$typeof===E||v.$$typeof===O||v.$$typeof===B||v.$$typeof===P||v.$$typeof===h)}function S(v){if(typeof v=="object"&&v!==null){var ee=v.$$typeof;switch(ee){case t:var de=v.type;switch(de){case g:case p:case n:case s:case r:case y:return de;default:var j=de&&de.$$typeof;switch(j){case u:case E:case x:case w:case a:return j;default:return ee}}case i:return ee}}}var l=g,N=p,Z=u,q=a,W=t,F=E,ie=n,re=x,se=w,oe=i,ce=s,K=r,V=y,Q=!1;function te(v){return Q||(Q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),f(v)||S(v)===g}function f(v){return S(v)===p}function o(v){return S(v)===u}function m(v){return S(v)===a}function A(v){return typeof v=="object"&&v!==null&&v.$$typeof===t}function T(v){return S(v)===E}function D(v){return S(v)===n}function M(v){return S(v)===x}function C(v){return S(v)===w}function R(v){return S(v)===i}function $(v){return S(v)===s}function z(v){return S(v)===r}function Y(v){return S(v)===y}H.AsyncMode=l,H.ConcurrentMode=N,H.ContextConsumer=Z,H.ContextProvider=q,H.Element=W,H.ForwardRef=F,H.Fragment=ie,H.Lazy=re,H.Memo=se,H.Portal=oe,H.Profiler=ce,H.StrictMode=K,H.Suspense=V,H.isAsyncMode=te,H.isConcurrentMode=f,H.isContextConsumer=o,H.isContextProvider=m,H.isElement=A,H.isForwardRef=T,H.isFragment=D,H.isLazy=M,H.isMemo=C,H.isPortal=R,H.isProfiler=$,H.isStrictMode=z,H.isSuspense=Y,H.isValidElementType=k,H.typeOf=S})()),H}var it;function st(){return it||(it=1,process.env.NODE_ENV==="production"?xe.exports=Kt():xe.exports=Jt()),xe.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var $e,ct;function Xt(){if(ct)return $e;ct=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function r(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var a={},u=0;u<10;u++)a["_"+String.fromCharCode(u)]=u;var g=Object.getOwnPropertyNames(a).map(function(E){return a[E]});if(g.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(E){p[E]=E}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return $e=r()?Object.assign:function(s,a){for(var u,g=n(s),p,E=1;E<arguments.length;E++){u=Object(arguments[E]);for(var y in u)t.call(u,y)&&(g[y]=u[y]);if(e){p=e(u);for(var d=0;d<p.length;d++)i.call(u,p[d])&&(g[p[d]]=u[p[d]])}}return g},$e}var Be,lt;function Ue(){if(lt)return Be;lt=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Be=e,Be}var He,ut;function dt(){return ut||(ut=1,He=Function.call.bind(Object.prototype.hasOwnProperty)),He}var Ze,ft;function Qt(){if(ft)return Ze;ft=1;var e=function(){};if(process.env.NODE_ENV!=="production"){var t=Ue(),i={},n=dt();e=function(s){var a="Warning: "+s;typeof console<"u"&&console.error(a);try{throw new Error(a)}catch{}}}function r(s,a,u,g,p){if(process.env.NODE_ENV!=="production"){for(var E in s)if(n(s,E)){var y;try{if(typeof s[E]!="function"){var d=Error((g||"React class")+": "+u+" type `"+E+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[E]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw d.name="Invariant Violation",d}y=s[E](a,E,g,u,null,t)}catch(x){y=x}if(y&&!(y instanceof Error)&&e((g||"React class")+": type specification of "+u+" `"+E+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof y+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),y instanceof Error&&!(y.message in i)){i[y.message]=!0;var w=p?p():"";e("Failed "+u+" type: "+y.message+(w??""))}}}}return r.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(i={})},Ze=r,Ze}var Ge,pt;function en(){if(pt)return Ge;pt=1;var e=st(),t=Xt(),i=Ue(),n=dt(),r=Qt(),s=function(){};process.env.NODE_ENV!=="production"&&(s=function(u){var g="Warning: "+u;typeof console<"u"&&console.error(g);try{throw new Error(g)}catch{}});function a(){return null}return Ge=function(u,g){var p=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function y(f){var o=f&&(p&&f[p]||f[E]);if(typeof o=="function")return o}var d="<<anonymous>>",w={array:B("array"),bigint:B("bigint"),bool:B("boolean"),func:B("function"),number:B("number"),object:B("object"),string:B("string"),symbol:B("symbol"),any:P(),arrayOf:k,element:S(),elementType:l(),instanceOf:N,node:F(),objectOf:q,oneOf:Z,oneOfType:W,shape:re,exact:se};function x(f,o){return f===o?f!==0||1/f===1/o:f!==f&&o!==o}function h(f,o){this.message=f,this.data=o&&typeof o=="object"?o:{},this.stack=""}h.prototype=Error.prototype;function O(f){if(process.env.NODE_ENV!=="production")var o={},m=0;function A(D,M,C,R,$,z,Y){if(R=R||d,z=z||C,Y!==i){if(g){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var ee=R+":"+C;!o[ee]&&m<3&&(s("You are manually calling a React.PropTypes validation function for the `"+z+"` prop on `"+R+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),o[ee]=!0,m++)}}return M[C]==null?D?M[C]===null?new h("The "+$+" `"+z+"` is marked as required "+("in `"+R+"`, but its value is `null`.")):new h("The "+$+" `"+z+"` is marked as required in "+("`"+R+"`, but its value is `undefined`.")):null:f(M,C,R,$,z)}var T=A.bind(null,!1);return T.isRequired=A.bind(null,!0),T}function B(f){function o(m,A,T,D,M,C){var R=m[A],$=K(R);if($!==f){var z=V(R);return new h("Invalid "+D+" `"+M+"` of type "+("`"+z+"` supplied to `"+T+"`, expected ")+("`"+f+"`."),{expectedType:f})}return null}return O(o)}function P(){return O(a)}function k(f){function o(m,A,T,D,M){if(typeof f!="function")return new h("Property `"+M+"` of component `"+T+"` has invalid PropType notation inside arrayOf.");var C=m[A];if(!Array.isArray(C)){var R=K(C);return new h("Invalid "+D+" `"+M+"` of type "+("`"+R+"` supplied to `"+T+"`, expected an array."))}for(var $=0;$<C.length;$++){var z=f(C,$,T,D,M+"["+$+"]",i);if(z instanceof Error)return z}return null}return O(o)}function S(){function f(o,m,A,T,D){var M=o[m];if(!u(M)){var C=K(M);return new h("Invalid "+T+" `"+D+"` of type "+("`"+C+"` supplied to `"+A+"`, expected a single ReactElement."))}return null}return O(f)}function l(){function f(o,m,A,T,D){var M=o[m];if(!e.isValidElementType(M)){var C=K(M);return new h("Invalid "+T+" `"+D+"` of type "+("`"+C+"` supplied to `"+A+"`, expected a single ReactElement type."))}return null}return O(f)}function N(f){function o(m,A,T,D,M){if(!(m[A]instanceof f)){var C=f.name||d,R=te(m[A]);return new h("Invalid "+D+" `"+M+"` of type "+("`"+R+"` supplied to `"+T+"`, expected ")+("instance of `"+C+"`."))}return null}return O(o)}function Z(f){if(!Array.isArray(f))return process.env.NODE_ENV!=="production"&&(arguments.length>1?s("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):s("Invalid argument supplied to oneOf, expected an array.")),a;function o(m,A,T,D,M){for(var C=m[A],R=0;R<f.length;R++)if(x(C,f[R]))return null;var $=JSON.stringify(f,function(Y,v){var ee=V(v);return ee==="symbol"?String(v):v});return new h("Invalid "+D+" `"+M+"` of value `"+String(C)+"` "+("supplied to `"+T+"`, expected one of "+$+"."))}return O(o)}function q(f){function o(m,A,T,D,M){if(typeof f!="function")return new h("Property `"+M+"` of component `"+T+"` has invalid PropType notation inside objectOf.");var C=m[A],R=K(C);if(R!=="object")return new h("Invalid "+D+" `"+M+"` of type "+("`"+R+"` supplied to `"+T+"`, expected an object."));for(var $ in C)if(n(C,$)){var z=f(C,$,T,D,M+"."+$,i);if(z instanceof Error)return z}return null}return O(o)}function W(f){if(!Array.isArray(f))return process.env.NODE_ENV!=="production"&&s("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var o=0;o<f.length;o++){var m=f[o];if(typeof m!="function")return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Q(m)+" at index "+o+"."),a}function A(T,D,M,C,R){for(var $=[],z=0;z<f.length;z++){var Y=f[z],v=Y(T,D,M,C,R,i);if(v==null)return null;v.data&&n(v.data,"expectedType")&&$.push(v.data.expectedType)}var ee=$.length>0?", expected one of type ["+$.join(", ")+"]":"";return new h("Invalid "+C+" `"+R+"` supplied to "+("`"+M+"`"+ee+"."))}return O(A)}function F(){function f(o,m,A,T,D){return oe(o[m])?null:new h("Invalid "+T+" `"+D+"` supplied to "+("`"+A+"`, expected a ReactNode."))}return O(f)}function ie(f,o,m,A,T){return new h((f||"React class")+": "+o+" type `"+m+"."+A+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+T+"`.")}function re(f){function o(m,A,T,D,M){var C=m[A],R=K(C);if(R!=="object")return new h("Invalid "+D+" `"+M+"` of type `"+R+"` "+("supplied to `"+T+"`, expected `object`."));for(var $ in f){var z=f[$];if(typeof z!="function")return ie(T,D,M,$,V(z));var Y=z(C,$,T,D,M+"."+$,i);if(Y)return Y}return null}return O(o)}function se(f){function o(m,A,T,D,M){var C=m[A],R=K(C);if(R!=="object")return new h("Invalid "+D+" `"+M+"` of type `"+R+"` "+("supplied to `"+T+"`, expected `object`."));var $=t({},m[A],f);for(var z in $){var Y=f[z];if(n(f,z)&&typeof Y!="function")return ie(T,D,M,z,V(Y));if(!Y)return new h("Invalid "+D+" `"+M+"` key `"+z+"` supplied to `"+T+"`.\nBad object: "+JSON.stringify(m[A],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(f),null,"  "));var v=Y(C,z,T,D,M+"."+z,i);if(v)return v}return null}return O(o)}function oe(f){switch(typeof f){case"number":case"string":case"undefined":return!0;case"boolean":return!f;case"object":if(Array.isArray(f))return f.every(oe);if(f===null||u(f))return!0;var o=y(f);if(o){var m=o.call(f),A;if(o!==f.entries){for(;!(A=m.next()).done;)if(!oe(A.value))return!1}else for(;!(A=m.next()).done;){var T=A.value;if(T&&!oe(T[1]))return!1}}else return!1;return!0;default:return!1}}function ce(f,o){return f==="symbol"?!0:o?o["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&o instanceof Symbol:!1}function K(f){var o=typeof f;return Array.isArray(f)?"array":f instanceof RegExp?"object":ce(o,f)?"symbol":o}function V(f){if(typeof f>"u"||f===null)return""+f;var o=K(f);if(o==="object"){if(f instanceof Date)return"date";if(f instanceof RegExp)return"regexp"}return o}function Q(f){var o=V(f);switch(o){case"array":case"object":return"an "+o;case"boolean":case"date":case"regexp":return"a "+o;default:return o}}function te(f){return!f.constructor||!f.constructor.name?d:f.constructor.name}return w.checkPropTypes=r,w.resetWarningCache=r.resetWarningCache,w.PropTypes=w,w},Ge}var qe,gt;function tn(){if(gt)return qe;gt=1;var e=Ue();function t(){}function i(){}return i.resetWarningCache=t,qe=function(){function n(a,u,g,p,E,y){if(y!==e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:t};return s.PropTypes=s,s},qe}var ht;function nn(){if(ht)return _e.exports;if(ht=1,process.env.NODE_ENV!=="production"){var e=st(),t=!0;_e.exports=en()(e.isElement,t)}else _e.exports=tn()();return _e.exports}var rn=nn();const _=Dt(rn),Fe={"7.5pt":{pt:7.5,px:10,label:"7.5"},"9pt":{pt:9,px:12,label:"9"},"10pt":{pt:10,px:13,label:"10"},"11pt":{pt:11,px:15,label:"11"},"12pt":{pt:12,px:16,label:"12"},"14pt":{pt:14,px:19,label:"14"},"16pt":{pt:16,px:21,label:"16"},"18pt":{pt:18,px:24,label:"18"},"20pt":{pt:20,px:27,label:"20"},"22pt":{pt:22,px:29,label:"22"},"24pt":{pt:24,px:32,label:"24"},"26pt":{pt:26,px:35,label:"26"},"28pt":{pt:28,px:37,label:"28"},"36pt":{pt:36,px:48,label:"36"},"48pt":{pt:48,px:64,label:"48"},"72pt":{pt:72,px:96,label:"72"}},mt=[{value:"10px",label:"7.5",pt:7.5},{value:"12px",label:"9",pt:9},{value:"13px",label:"10",pt:10},{value:"15px",label:"11",pt:11},{value:"16px",label:"12",pt:12},{value:"19px",label:"14",pt:14},{value:"21px",label:"16",pt:16},{value:"24px",label:"18",pt:18},{value:"27px",label:"20",pt:20},{value:"32px",label:"24",pt:24},{value:"37px",label:"28",pt:28},{value:"48px",label:"36",pt:36},{value:"64px",label:"48",pt:48},{value:"96px",label:"72",pt:72}],Te="16px",yt=e=>Math.round(e*96/72),bt=e=>Math.round(e*72/96*2)/2,on=e=>{const t=Object.values(Fe).find(i=>i.pt===e);return t?`${t.px}px`:`${yt(e)}px`},an=e=>{const t=parseInt(e),i=Object.values(Fe).find(n=>n.px===t);return i?i.pt:bt(t)},sn=e=>{if(!e)return!1;if(e.endsWith("px")){const t=parseInt(e);return t>=8&&t<=144}if(e.endsWith("pt")){const t=parseFloat(e);return t>=6&&t<=108}return!1},cn={"10px":"1","12px":"2","13px":"2","15px":"3","16px":"3","19px":"4","21px":"4","24px":"5","27px":"5","32px":"6","37px":"6","48px":"6","64px":"7","96px":"7"},Et={bold:!1,italic:!1,underline:!1,strikethrough:!1,alignLeft:!1,alignCenter:!1,alignRight:!1,alignJustify:!1,fontFamily:"Arial",fontSize:Te,headingLevel:"p"},vt=()=>{const[e,t]=b.useState(Et),i=b.useCallback(a=>{t(u=>({...u,alignLeft:a==="left",alignCenter:a==="center",alignRight:a==="right",alignJustify:a==="justify"}))},[]),n=b.useCallback(a=>{try{const u=window.getSelection();if(!u||u.rangeCount===0)return!1;const g=u.getRangeAt(0);if(!g.toString())return t(E=>({...E,fontSize:a})),!1;try{const E=document.createElement("span");E.style.fontSize=a;const y=g.extractContents();return E.appendChild(y),g.insertNode(E),g.selectNodeContents(E),u.removeAllRanges(),u.addRange(g),t(d=>({...d,fontSize:a})),!0}catch{const y=cn[a]||"2";return document.execCommand("fontSize",!1,y),t(d=>({...d,fontSize:a})),!0}}catch(u){return console.warn("[useFormatting] Font size change failed:",u),!1}},[]),r=b.useCallback((a,u=null)=>{try{if(typeof document.execCommand!="function"){console.warn("[useFormatting] execCommand not supported");return}if(a==="fontSize"){n(u);return}switch(document.execCommand(a,!1,u)||console.warn(`[useFormatting] Command "${a}" failed`),a){case"bold":t(p=>({...p,bold:!p.bold}));break;case"italic":t(p=>({...p,italic:!p.italic}));break;case"underline":t(p=>({...p,underline:!p.underline}));break;case"strikethrough":t(p=>({...p,strikethrough:!p.strikethrough}));break;case"justifyLeft":i("left");break;case"justifyCenter":i("center");break;case"justifyRight":i("right");break;case"justifyFull":i("justify");break;case"fontName":t(p=>({...p,fontFamily:u}));break;case"formatBlock":t(p=>({...p,headingLevel:u}));break;default:break}}catch(g){console.warn(`[useFormatting] Error executing command "${a}":`,g)}},[n,i]),s=b.useCallback(()=>{t(Et)},[]);return{currentFormat:e,formatText:r,resetFormat:s}},ue='page-break, [data-page-break="true"]',_t=e=>X[e]||X.A4,ln=(e,t={})=>{if(!e||typeof document>"u")return[];const i=t.pageSize||"A4",n=_t(i),r=e.querySelectorAll(ue),s=[];s.push({id:"page-0",pageNumber:1,top:0,height:n.height});const a=e.getBoundingClientRect(),u=e.scrollTop;return r.forEach((g,p)=>{const y=g.getBoundingClientRect().top-a.top+u;s.push({id:`page-${p+1}`,pageNumber:p+2,top:y,height:n.height})}),s},xt=(e,t=100,i=ae)=>{const n=_t(e),r=Ut(i),s=n.height-r,a=t/100;return s/a},un=(e,t)=>{if(!e||!t)return 0;try{const i=t.querySelectorAll(ue);if(i.length===0)return 0;const n=e.getBoundingClientRect(),r=n.top+n.height/2;for(let s=i.length-1;s>=0;s--)if(i[s].getBoundingClientRect().top<r)return s+1;return 0}catch(i){return console.warn("[getCurrentPage] Failed to calculate page:",i),0}},Tt=e=>{if(!e)return[];const t=Array.from(e.children);if(t.length===0)return[];let i=[],n=[];for(const r of t)r.tagName==="PAGE-BREAK"||r.getAttribute("data-page-break")==="true"?n.length>0&&(i.push(n),n=[]):n.push(r);return n.length>0&&i.push(n),i.length===0&&t.length>0&&i.push(t.filter(r=>!(r.tagName==="PAGE-BREAK"||r.getAttribute("data-page-break")==="true"))),i},dn=(e,t)=>{if(!e)return!1;try{const i=document.createElement("page-break");return i.setAttribute("data-page-break","true"),i.setAttribute("contenteditable","false"),i.setAttribute("data-page-number",t||"2"),e.parentNode.insertBefore(i,e),!0}catch(i){return console.warn("[insertPageBreakBefore] Failed to insert page break:",i),!1}},fn=(e,t,i,n,r,s,a)=>{if(!e)return!1;try{const g=xt(i,n,r)*(t-1),p=Array.from(e.children);let E=0,y=null;for(let d=0;d<p.length;d++){const w=p[d];if(w.tagName==="PAGE-BREAK"||w.getAttribute("data-page-break")==="true")continue;const x=w.getBoundingClientRect().height;if(E+x>g){y=w;break}E+=x}if(y){const d=document.createElement("page-break");if(d.setAttribute("data-page-break","true"),d.setAttribute("contenteditable","false"),d.setAttribute("data-page-number",String(t)),y.parentNode.insertBefore(d,y),s){const w=e.innerHTML;s(w)}return a&&setTimeout(()=>{a()},50),!0}else{const d=document.createElement("page-break");d.setAttribute("data-page-break","true"),d.setAttribute("contenteditable","false"),d.setAttribute("data-page-number",String(t)),e.appendChild(d);const w=document.createElement("p");if(w.innerHTML="<br>",e.appendChild(w),s){const x=e.innerHTML;s(x)}return a&&setTimeout(()=>{a()},50),!0}}catch(u){return console.error("[insertPageBreakAtBoundary] Failed to insert page break:",u),!1}},pn=(e,t,i,n,r,s,a)=>{if(!e)return!1;if(i().length<=1)return console.warn("[removePageAndContent] Cannot delete the only page"),!1;try{const g=Array.from(e.querySelectorAll(ue));if(t>g.length)return console.warn("[removePageAndContent] Invalid page index"),!1;const p=window.getSelection();let E=!1,y=[],d=null;if(t===0){const x=g[0];if(!x)return console.warn("[removePageAndContent] No page break found for first page"),!1;let h=e.firstChild;for(;h&&h!==x;)y.push(h),h=h.nextSibling;d=x}else{const x=g[t-1];if(!x)return console.warn("[removePageAndContent] Page break not found"),!1;const h=g[t];let O=x.nextSibling;for(;O&&O!==h;)y.push(O),O=O.nextSibling;d=x}if(p&&p.rangeCount>0){const h=p.getRangeAt(0).startContainer;for(const O of y)if(O.contains(h)||O===h){E=!0;break}}if(d&&d.parentNode&&d.remove(),y.forEach(x=>{x.parentNode&&x.remove()}),e.querySelectorAll(ue).forEach((x,h)=>{x.setAttribute("data-page-number",String(h+2))}),E&&s&&setTimeout(()=>{s(0)},50),n){const x=e.innerHTML;n(x)}return r&&setTimeout(()=>{r(),a&&setTimeout(()=>{a()},150)},100),!0}catch(g){return console.error("[removePageAndContent] Failed to remove page:",g),!1}},gn=200,hn=50,At=3,mn=20,yn=(e,t)=>{if(!e||e.length===0)return null;let i=0,n=null;for(let r=0;r<e.length;r++){const s=e[r];if(!s||!s.getBoundingClientRect)continue;const a=s.getBoundingClientRect().height;if(a<1)continue;if(i+a>t)return n===null?r>0?{overflowIndex:r,overflowElement:s,accumulatedHeight:i}:null:{overflowIndex:r,overflowElement:s,accumulatedHeight:i};i+=a,n=s}return null},bn=(e,t,i,n,r,s,a,u)=>{if(!e||a.current)return!1;try{a.current=!0;const g=xt(t,i,n);let p=Tt(e),E=!1,y=0;for(let d=0;d<p.length&&y<At;d++){const w=p[d],x=yn(w,g);if(x&&x.overflowIndex>0){let h=0;for(let k=0;k<w.length;k++){const S=w[k];S&&S.getBoundingClientRect&&(h+=S.getBoundingClientRect().height)}if(h-g<mn)continue;const B=d+2;dn(x.overflowElement,B)&&(E=!0,y++,p=Tt(e))}}if(E){if(r){const d=e.innerHTML;r(d)}setTimeout(()=>{s&&s(),y>=At&&u&&setTimeout(()=>{a.current||u()},100)},hn)}return E}catch(g){return console.warn("[checkAndReflow] Reflow failed:",g),!1}finally{a.current=!1}},En=(e,t,i=gn)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{t.current=null,e()},i)},vn=400,Pt=(e,t)=>{if(e){e.focus();try{let i=null,n=0;if(t===0)i=e.firstChild,n=0;else{const s=e.querySelectorAll(ue)[t-1];s&&s.nextSibling&&(i=s.nextSibling,n=0)}if(i){const r=document.createRange(),s=window.getSelection();i.nodeType===Node.TEXT_NODE?r.setStart(i,n):r.setStart(i,0),r.collapse(!0),s.removeAllRanges(),s.addRange(r)}}catch(i){console.warn("[positionCursorAtPage] Failed to position cursor:",i)}}},_n=(e,t,i,n)=>{if(!e||!t){console.warn("[scrollToPage] Missing refs");return}try{let r=null;if(i===0)r=t;else{const a=t.querySelectorAll(ue)[i-1];if(a)r=a;else{console.warn("[scrollToPage] Page break not found for page",i);return}}if(r){const s=r.getBoundingClientRect(),a=e.getBoundingClientRect(),u=e.scrollTop+(s.top-a.top);console.log("[scrollToPage] Scrolling to page",i,"scrollTop:",u),e.scrollTo({top:u,behavior:"smooth"}),setTimeout(()=>{n?n(i):Pt(t,i)},vn)}}catch(r){console.error("[scrollToPage] Error:",r)}},xn=(e,t,i={},n=300)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{t.current=null,e(i)},Math.max(0,n))},Tn=300,kt=(e,t,i=100,n="NARROW")=>{const r=ze(),s=b.useRef(null),a=b.useRef(null),u=b.useRef(e),g=b.useRef(i),p=b.useRef(n),E=b.useRef(!1);b.useEffect(()=>{u.current=e},[e]),b.useEffect(()=>{g.current=i},[i]),b.useEffect(()=>{p.current=n},[n]),b.useEffect(()=>()=>{s.current&&clearTimeout(s.current),a.current&&clearTimeout(a.current)},[]);const y=b.useCallback((l={})=>t?.current?ln(t.current,l):[],[t]),d=b.useCallback((l={})=>{const N=y(l);return r.updatePageBoundaries(N),N},[y,r]),w=b.useCallback(async l=>{if(!t?.current)return!1;const N=u.current||"A4",Z=g.current||100,q=p.current||"NARROW";return fn(t.current,l,N,Z,q,r.updateContinuousContent,d)},[t,r,d]),x=b.useCallback(()=>{if(!t?.current)return;const l=u.current||"A4",N=g.current||100,Z=p.current||"NARROW";bn(t.current,l,N,Z,r.updateContinuousContent,d,E,x)},[t,r,d]),h=b.useCallback(l=>{En(x,a,l)},[x]),O=b.useCallback((l={})=>{const N=typeof l.delay=="number"?l.delay:Tn;xn(d,s,l,N)},[d]),B=b.useCallback(l=>!l?.current||!t?.current?0:un(l.current,t.current),[t]),P=b.useCallback(l=>{t?.current&&Pt(t.current,l)},[t]),k=b.useCallback((l,N)=>{if(!N?.current||!t?.current){console.warn("[scrollToPage] Missing refs");return}_n(N.current,t.current,l,P)},[t,P]),S=b.useCallback(l=>t?.current?pn(t.current,l,y,r.updateContinuousContent,d,P,x):!1,[t,y,r,d,P,x]);return{calculatePageBoundaries:y,checkAndUpdateBoundaries:O,updateBoundaries:d,getCurrentPage:B,scrollToPage:k,positionCursorAtPage:P,checkAndReflow:x,triggerAutoReflow:h,removePageAndContent:S,insertPageBreakAtBoundary:w,boundaryTimeoutRef:s,reflowTimeoutRef:a}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pn=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,n)=>n?n.toUpperCase():i.toLowerCase()),Ct=e=>{const t=Pn(e);return t.charAt(0).toUpperCase()+t.slice(1)},St=(...e)=>e.filter((t,i,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===i).join(" ").trim(),kn=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:a,...u},g)=>b.createElement("svg",{ref:g,...Cn,width:t,height:t,stroke:e,strokeWidth:n?Number(i)*24/Number(t):i,className:St("lucide",r),...!s&&!kn(u)&&{"aria-hidden":"true"},...u},[...a.map(([p,E])=>b.createElement(p,E)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=(e,t)=>{const i=b.forwardRef(({className:n,...r},s)=>b.createElement(Sn,{ref:s,iconNode:t,className:St(`lucide-${An(Ct(e))}`,`lucide-${e}`,n),...r}));return i.displayName=Ct(e),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=G("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=G("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=G("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=G("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=G("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=G("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=G("heading-1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=G("heading-2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=G("heading-3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=G("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=G("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=G("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=G("list-ordered",[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=G("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=G("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=G("redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=G("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=G("strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=G("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=G("text-align-center",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=G("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=G("text-align-justify",[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=G("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=G("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=G("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=G("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=G("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=G("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),wt=({editorView:e,isCollapsed:t,onToggle:i,wordCount:n,pageCount:r})=>{const s=Le(),{pages:a,activePage:u,continuousContent:g,editorMode:p}=s,[E,y]=b.useState(0),[d,w]=b.useState([]);b.useEffect(()=>{if(n!==void 0&&r!==void 0){if(y(n),g){const B=document.createElement("div");B.innerHTML=g;const P=B.querySelectorAll("h1, h2, h3, h4, h5, h6"),k=Array.from(P).map((S,l)=>{const N=parseInt(S.tagName.charAt(1)),Z=S.textContent.trim();return Z?{id:`heading-${l}`,level:N,text:Z,page:1}:null}).filter(Boolean);w(k)}return}let h=0;const O=[];a.forEach((B,P)=>{if(B.content){const k=document.createElement("div");k.innerHTML=B.content;const l=(k.textContent||k.innerText||"").trim().split(/\s+/).filter(Z=>Z.length>0);h+=l.length,k.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach((Z,q)=>{const W=parseInt(Z.tagName.charAt(1)),F=Z.textContent.trim();F&&O.push({id:`heading-${P}-${q}`,level:W,text:F,page:P+1})})}}),y(h),w(O)},[a,n,r,g]);const x=r!==void 0?r:a.length;return c.jsxs("aside",{className:`sidebar ${t?"collapsed":""}`,role:"complementary","aria-label":"Document information","data-testid":"sidebar",children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsxs("div",{className:"sidebar-title",children:[c.jsx(Ae,{size:18}),c.jsx("h2",{children:"Document Info"})]}),c.jsx("button",{className:"sidebar-toggle",onClick:i,"aria-label":t?"Expand sidebar":"Collapse sidebar",title:t?"Expand sidebar":"Collapse sidebar",children:t?c.jsx(Nn,{size:16}):c.jsx(wn,{size:16})})]}),!t&&c.jsxs("div",{className:"sidebar-content",children:[c.jsxs("div",{className:"sidebar-section",children:[c.jsx("h3",{children:"Statistics"}),c.jsxs("div",{className:"stat-item",children:[c.jsxs("div",{className:"stat-label",children:[c.jsx(Mn,{size:14}),c.jsx("span",{children:"Pages:"})]}),c.jsx("span",{className:"stat-value",children:x})]}),c.jsxs("div",{className:"stat-item","data-testid":"word-count",children:[c.jsxs("div",{className:"stat-label",children:[c.jsx(jn,{size:14}),c.jsx("span",{children:"Words:"})]}),c.jsx("span",{className:"stat-value",children:E.toLocaleString()})]}),c.jsxs("div",{className:"stat-item",children:[c.jsxs("div",{className:"stat-label",children:[c.jsx(Ae,{size:14}),c.jsx("span",{children:"Active Page:"})]}),c.jsx("span",{className:"stat-value",children:u+1})]})]}),d.length>0&&c.jsxs("div",{className:"sidebar-section",children:[c.jsxs("h3",{children:[c.jsx(Ot,{size:14,style:{display:"inline-block",marginRight:"6px",verticalAlign:"middle"}}),"Document Outline"]}),c.jsx("div",{className:"document-outline","data-testid":"outline",children:d.map(h=>{const O=h.level===1?Rn:h.level===2?In:Dn;return c.jsxs("div",{className:`outline-item outline-level-${h.level}`,style:{marginLeft:`${(h.level-1)*12}px`},children:[c.jsx(O,{size:12,className:"outline-icon"}),c.jsx("span",{className:"outline-text",children:h.text}),c.jsxs("span",{className:"outline-page",children:["p.",h.page]})]},h.id)})})]}),c.jsxs("div",{className:"sidebar-section",children:[c.jsx("h3",{children:"Document"}),c.jsx("p",{children:"HTML Editor"}),c.jsx("p",{children:"Multi-page support"})]})]})]})};function tr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Nt(e){return new Promise((t,i)=>{if(!["image/png","image/jpeg","image/gif","image/webp"].includes(e.type)){i(new Error("Invalid image format. Supported formats: png, jpeg, gif, webp"));return}if(e.size>5*1024*1024){i(new Error("Image exceeds maximum size of 5MB"));return}const r=new FileReader;r.onload=s=>{const a=s.target.result;if(a.split(",")[1].length*3/4>5*1024*1024){i(new Error("Image exceeds maximum size of 5MB"));return}try{const p=`editor-image-${tr()}`;localStorage.setItem(p,a),t(p)}catch(p){p.name==="QuotaExceededError"?i(new Error("Storage quota exceeded")):i(p)}},r.onerror=()=>{i(new Error("Error reading image file"))},r.readAsDataURL(e)})}function nr(e){return localStorage.getItem(e)}function rr(e){localStorage.removeItem(e)}function or(){Object.keys(localStorage).forEach(e=>{e.startsWith("editor-image-")&&localStorage.removeItem(e)})}function ar(){return Object.keys(localStorage).filter(e=>e.startsWith("editor-image-"))}class Mt{constructor(t="Editor"){this.namespace=t}_format(t,i,n){return`[${new Date().toISOString()}] [${this.namespace}] [${t}] ${i}`}info(t,i){}warn(t,i){}error(t,i){}debug(t,i){}}const jt=new Mt("Editor"),Pe=({currentFormat:e,onFormatText:t,onAddPageBreak:i})=>{const n=async r=>{try{if(!["image/png","image/jpeg","image/gif","image/webp"].includes(r.type)){alert("Invalid image format. Supported: PNG, JPEG, GIF, WEBP");return}if(r.size>5242880){alert("Image exceeds maximum size of 5MB");return}const a=await Nt(r),u=localStorage.getItem(a);u&&(document.execCommand("insertImage",!1,u),jt.info("Image inserted",{key:a}))}catch(s){jt.error("Error uploading image",s)}};return c.jsxs("div",{className:"editor-toolbar",children:[c.jsx("button",{onClick:()=>t("undo"),title:"Undo",children:c.jsx(Jn,{size:16})}),c.jsx("button",{onClick:()=>t("redo"),title:"Redo",children:c.jsx(Hn,{size:16})}),c.jsx("div",{className:"toolbar-separator"}),c.jsx("button",{onClick:()=>t("bold"),className:e.bold?"active":"",title:"Bold",children:c.jsx(On,{size:16})}),c.jsx("button",{onClick:()=>t("italic"),className:e.italic?"active":"",title:"Italic",children:c.jsx(zn,{size:16})}),c.jsx("button",{onClick:()=>t("underline"),className:e.underline?"active":"",title:"Underline",children:c.jsx(Kn,{size:16})}),c.jsx("button",{onClick:()=>t("strikethrough"),className:e.strikethrough?"active":"",title:"Strikethrough",children:c.jsx(Gn,{size:16})}),c.jsx("div",{className:"toolbar-separator"}),c.jsx("button",{onClick:()=>t("justifyLeft"),className:e.alignLeft?"active":"",title:"Align Left",children:c.jsx(Wn,{size:16})}),c.jsx("button",{onClick:()=>t("justifyCenter"),className:e.alignCenter?"active":"",title:"Align Center",children:c.jsx(Fn,{size:16})}),c.jsx("button",{onClick:()=>t("justifyRight"),className:e.alignRight?"active":"",title:"Align Right",children:c.jsx(Yn,{size:16})}),c.jsx("button",{onClick:()=>t("justifyFull"),className:e.alignJustify?"active":"",title:"Justify",children:c.jsx(Vn,{size:16})}),c.jsx("div",{className:"toolbar-separator"}),c.jsxs("select",{onChange:r=>t("fontName",r.target.value),defaultValue:"Arial",title:"Font Family",children:[c.jsx("option",{value:"Arial",children:"Arial"}),c.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),c.jsx("option",{value:"Courier New",children:"Courier New"}),c.jsx("option",{value:"Georgia",children:"Georgia"}),c.jsx("option",{value:"Verdana",children:"Verdana"})]}),c.jsx("select",{onChange:r=>t("fontSize",r.target.value),defaultValue:Te,title:"Font Size",children:mt.map(({value:r,label:s,pt:a})=>c.jsx("option",{value:r,children:s},r))}),c.jsxs("select",{onChange:r=>t("formatBlock",r.target.value),value:e.headingLevel||"p",title:"Heading Level",children:[c.jsx("option",{value:"p",children:"Normal"}),c.jsx("option",{value:"h1",children:"Heading 1"}),c.jsx("option",{value:"h2",children:"Heading 2"}),c.jsx("option",{value:"h3",children:"Heading 3"}),c.jsx("option",{value:"h4",children:"Heading 4"}),c.jsx("option",{value:"h5",children:"Heading 5"}),c.jsx("option",{value:"h6",children:"Heading 6"})]}),c.jsx("div",{className:"toolbar-separator"}),c.jsx("button",{onClick:()=>t("insertUnorderedList"),title:"Bullet List",children:c.jsx(Ot,{size:16})}),c.jsx("button",{onClick:()=>t("insertOrderedList"),title:"Numbered List",children:c.jsx(Bn,{size:16})}),c.jsx("div",{className:"toolbar-separator"}),c.jsx("button",{onClick:()=>{const r=prompt("Enter URL:");r&&t("createLink",r)},title:"Insert Link",children:c.jsx($n,{size:16})}),c.jsx("button",{onClick:()=>t("insertHTML",'<table border="1"><tr><td>Cell 1</td><td>Cell 2</td></tr><tr><td>Cell 3</td><td>Cell 4</td></tr></table>'),title:"Insert Table",children:c.jsx(qn,{size:16})}),i&&c.jsx("button",{onClick:i,title:"Insert Page Break",children:c.jsx(Ae,{size:16})}),c.jsx("input",{type:"file",accept:"image/*",onChange:r=>r.target.files[0]&&n(r.target.files[0]),style:{display:"none"},id:"image-upload"}),c.jsx("button",{onClick:()=>document.getElementById("image-upload").click(),title:"Insert Image",children:c.jsx(Ln,{size:16})})]})};Pe.propTypes={currentFormat:_.shape({bold:_.bool,italic:_.bool,underline:_.bool,strikethrough:_.bool,alignLeft:_.bool,alignCenter:_.bool,alignRight:_.bool,alignJustify:_.bool,fontFamily:_.string,fontSize:_.string,headingLevel:_.string}).isRequired,onFormatText:_.func.isRequired,onAddPageBreak:_.func},Pe.defaultProps={onAddPageBreak:void 0};const ke=({content:e,dimensions:t,pageSize:i,pageBoundaries:n=[],editorRef:r,onInput:s,onKeyDown:a,onClick:u,onScroll:g,zoomLevel:p=100,pageMargins:E=ae})=>{const y=tt(E),d=p/100,w=(P,k)=>{if(!P)return!1;const S=P.getBoundingClientRect(),l=k-S.top;return l<y.top||l>S.height-y.bottom},x=P=>P?P.nodeType===Node.ELEMENT_NODE?P.tagName==="PAGE-BREAK"||P.getAttribute("data-page-break")==="true":P.parentElement&&x(P.parentElement):!1,h=P=>{const k=window.getSelection();if(!k||k.rangeCount===0)return;const S=k.getRangeAt(0),{startContainer:l,endContainer:N}=S;if((x(l)||x(N))&&(P.key.length===1||P.key==="Enter"||P.key===" "))return P.preventDefault(),!1;if(P.key==="Tab")return P.preventDefault(),document.execCommand("insertHTML",!1,"&nbsp;&nbsp;&nbsp;&nbsp;"),!1;if((P.key==="Backspace"||P.key==="Delete")&&(x(l)||x(N)))return P.preventDefault(),!1;a&&a(P)},O=P=>{if(!r.current)return;const k=P.target;if(x(k)){P.preventDefault();return}if(w(r.current,P.clientY)){P.preventDefault();const S=r.current.getBoundingClientRect();if(P.clientY-S.top<y.top){const N=r.current.firstElementChild;if(N&&N.tagName!=="PAGE-BREAK"){const Z=document.createRange(),q=window.getSelection();Z.setStart(N,0),Z.collapse(!0),q.removeAllRanges(),q.addRange(Z)}}else{const N=r.current.lastElementChild;if(N&&N.tagName!=="PAGE-BREAK"){const Z=document.createRange(),q=window.getSelection();Z.selectNodeContents(N),Z.collapse(!1),q.removeAllRanges(),q.addRange(Z)}}return}u&&u(P)},B=P=>{const k=window.getSelection();if(!k||k.rangeCount===0)return;const S=k.getRangeAt(0),{startContainer:l}=S;if(x(l))return P.preventDefault(),!1};return c.jsx("div",{className:"continuous-page-container",style:{position:"relative",width:"100%",maxWidth:`${t.width}px`,margin:"40px auto",backgroundColor:"transparent",minHeight:"100vh",transform:`scale(${d})`,transformOrigin:"top center",transition:"transform 0.2s ease-out"},children:c.jsx("div",{ref:r,contentEditable:!0,suppressContentEditableWarning:!0,className:"continuous-content",style:{position:"relative",zIndex:1,minHeight:`${t.height}px`,width:`${t.width}px`,backgroundColor:"white",padding:`${y.top}px ${y.right}px ${y.bottom}px ${y.left}px`,boxSizing:"border-box",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",outline:"none",cursor:"text",fontFamily:"Arial, sans-serif",fontSize:Te,lineHeight:"1.3",color:"#333",wordWrap:"break-word",whiteSpace:"pre-wrap",overflowWrap:"break-word",border:"1px solid #e0e0e0"},onInput:s,onKeyDown:h,onBeforeInput:B,onClick:O,onScroll:g,"data-testid":"continuous-editor"})})};ke.propTypes={content:_.string.isRequired,dimensions:_.shape({width:_.number.isRequired,height:_.number.isRequired}).isRequired,pageSize:_.oneOf(["A4","Letter","Legal"]).isRequired,pageBoundaries:_.arrayOf(_.shape({id:_.string.isRequired,pageNumber:_.number.isRequired,top:_.number,height:_.number})),editorRef:_.shape({current:_.instanceOf(typeof Element<"u"?Element:Object)}).isRequired,onInput:_.func.isRequired,onKeyDown:_.func,onClick:_.func,onScroll:_.func,zoomLevel:_.number,pageMargins:_.string},ke.defaultProps={pageBoundaries:[],onKeyDown:void 0,onClick:void 0,onScroll:void 0,zoomLevel:100,pageMargins:ae};const Ye=({pageBoundaries:e=[{id:"page-0",pageNumber:1}],activePage:t=0,pageSize:i="A4",pageMargins:n=ae,zoomLevel:r=100,canZoomIn:s=!0,canZoomOut:a=!0,onNavigate:u,onAddPage:g,onDeletePage:p,onPageSizeChange:E,onPageMarginsChange:y,onZoomIn:d,onZoomOut:w,onZoomReset:x}={})=>{const h=Math.max(e?.length||0,1),O=l=>{u&&u(l)},B=()=>{g&&g()},P=l=>{if(h<=1){console.warn("[PageManager] Cannot delete the only page");return}p&&p(l)},k=l=>{E&&E(l)},S=l=>{y&&y(l)};return c.jsxs("div",{className:"page-manager",children:[c.jsxs("div",{className:"page-settings-group",children:[c.jsxs("div",{className:"page-settings-header",children:[c.jsx(Zn,{size:14,style:{marginRight:"4px",verticalAlign:"middle"}}),"Page Settings"]}),c.jsxs("div",{className:"page-settings-controls",children:[c.jsxs("div",{className:"page-setting-item",children:[c.jsx("label",{htmlFor:"page-size-selector",children:"Size:"}),c.jsxs("select",{id:"page-size-selector",role:"combobox","aria-label":"Page size selector",value:i,onChange:l=>k(l.target.value),children:[c.jsx("option",{value:"A4",children:"A4"}),c.jsx("option",{value:"Letter",children:"Letter"}),c.jsx("option",{value:"Legal",children:"Legal"})]})]}),c.jsxs("div",{className:"page-setting-item",children:[c.jsx("label",{htmlFor:"page-margins-selector",children:"Margins:"}),c.jsx("select",{id:"page-margins-selector",role:"combobox","aria-label":"Page margins selector",value:n,onChange:l=>S(l.target.value),children:Ht().map(l=>c.jsx("option",{value:l,children:Zt(l)},l))})]})]})]}),c.jsxs("div",{className:"zoom-controls-compact",children:[c.jsx("button",{type:"button",className:"zoom-button-compact",onClick:w,disabled:!a,"aria-label":"Zoom out",title:"Zoom out (Ctrl + -)",children:c.jsx(er,{size:12})}),c.jsxs("span",{className:"zoom-level-display",children:[r,"%"]}),c.jsx("button",{type:"button",className:"zoom-button-compact",onClick:d,disabled:!s,"aria-label":"Zoom in",title:"Zoom in (Ctrl + +)",children:c.jsx(Qn,{size:12})}),c.jsx("button",{type:"button",className:"zoom-reset-compact",onClick:x,"aria-label":"Reset zoom",title:"Reset zoom to 100% (Ctrl + 0)",children:"Reset"})]}),c.jsx("div",{className:"page-list",children:(e&&e.length>0?e:[{id:"page-0",pageNumber:1}]).map((l,N)=>c.jsxs("div",{className:"page-item",children:[c.jsxs("button",{type:"button",className:`page-button ${N===t?"active":""}`,onClick:()=>O(N),"aria-label":`Go to page ${N+1}`,"aria-current":N===t?"page":void 0,children:[c.jsx(Ae,{size:14}),c.jsxs("span",{children:["Page ",N+1]})]}),h>1&&c.jsx("button",{type:"button",className:"delete-page-button",onClick:Z=>{Z.stopPropagation(),P(N)},"aria-label":`Delete page ${N+1}`,title:"Delete this page and its content",children:c.jsx(Xn,{size:14})})]},l.id||`page-${N}`))}),c.jsxs("button",{type:"button",className:"add-page-button",onClick:B,"aria-label":"Add new page",title:"Add new page at end",children:[c.jsx(Un,{size:16}),c.jsx("span",{children:"Add Page"})]})]})};Ye.propTypes={pageBoundaries:_.arrayOf(_.shape({id:_.string.isRequired,pageNumber:_.number.isRequired,top:_.number,height:_.number})),activePage:_.number,pageSize:_.oneOf(["A4","Letter","Legal"]),pageMargins:_.string,zoomLevel:_.number,canZoomIn:_.bool,canZoomOut:_.bool,onNavigate:_.func,onAddPage:_.func,onDeletePage:_.func,onPageSizeChange:_.func,onPageMarginsChange:_.func,onZoomIn:_.func,onZoomOut:_.func,onZoomReset:_.func},Ye.defaultProps={pageBoundaries:[{id:"page-0",pageNumber:1}],activePage:0,pageSize:"A4",pageMargins:ae,zoomLevel:100,canZoomIn:!0,canZoomOut:!0,onNavigate:void 0,onAddPage:void 0,onDeletePage:void 0,onPageSizeChange:void 0,onPageMarginsChange:void 0,onZoomIn:void 0,onZoomOut:void 0,onZoomReset:void 0};const Rt=b.memo(Ye),ir=50,sr=50,It=50,cr=100,lr=500,Ce=b.forwardRef(({pageManagerComponent:e=null,onNavigatePage:t,onAddPage:i,onDeletePage:n,onPageSizeChange:r,onPageMarginsChange:s,onChange:a,showSidebar:u=!0,showToolbar:g=!0,showPageManager:p=!0},E)=>{const y=Le(),d=ze(),{pageSize:w,pageMargins:x,continuousContent:h,pageBoundaries:O,activePage:B,zoomLevel:P}=y,k=b.useRef(null),S=b.useRef(null),{currentFormat:l,formatText:N}=vt(),{checkAndUpdateBoundaries:Z,getCurrentPage:q,scrollToPage:W,updateBoundaries:F,triggerAutoReflow:ie,removePageAndContent:re,insertPageBreakAtBoundary:se}=kt(w,S,P,x),oe=b.useMemo(()=>Ee(w),[w]),[ce,K]=b.useState(!1),V=b.useRef(null),Q=b.useRef(!1),te=b.useRef(!1),f=b.useRef(!1),o=b.useRef(h);b.useEffect(()=>{if(S.current){if(!f.current){S.current.innerHTML=h,f.current=!0,o.current=h;const j=setTimeout(()=>{F()},ir);return()=>clearTimeout(j)}if(o.current!==h){if(S.current.innerHTML!==h){S.current.innerHTML=h;const J=setTimeout(()=>{if(F(),Q.current){Q.current=!1;const ne=Math.max(0,O.length-1);d.setActivePage(ne),setTimeout(()=>{W(ne,k)},It)}},sr);return o.current=h,()=>clearTimeout(J)}o.current=h}}},[h,F,O.length,d,W]),b.useEffect(()=>{a&&f.current&&a(h)},[h,a]),b.useImperativeHandle(E,()=>({getHTMLContent:()=>h,getPlainText:()=>h.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),setContent:j=>{d.updateContinuousContent(j),S.current&&(S.current.innerHTML=j,setTimeout(()=>{F()},50))}}),[h,d,F]),b.useEffect(()=>{const j=setTimeout(()=>{S.current&&S.current.focus()},200);return()=>clearTimeout(j)},[]);const m=b.useCallback(j=>{const J=j.currentTarget.innerHTML;d.updateContinuousContent(J),Z(),ie(200);const ne=q(k);ne!==B&&d.setActivePage(ne)},[Z,d,q,B,ie,k]),A=b.useCallback(j=>{d.updatePageSize(j),F({pageSize:j}),r&&r(j)},[d,F,r]),T=b.useCallback(j=>{d.updatePageMargins(j),F({pageMargins:j}),s&&s(j)},[d,F,s]),D=b.useCallback(j=>{j<0||j>=O.length||(te.current=!0,d.setActivePage(j),W(j,k),setTimeout(()=>{te.current=!1},lr),t&&t(j))},[d,W,t,O.length]),M=b.useCallback(()=>{const j=O.length+1;se(j)&&(Q.current=!0,setTimeout(()=>{if(Q.current){Q.current=!1;const ne=Math.max(0,O.length-1);d.setActivePage(ne),setTimeout(()=>{W(ne,k)},It)}},100)),i&&i()},[O.length,se,d,W,i]),C=b.useCallback(()=>{const j=window.getSelection();if(j&&j.rangeCount>0){if(!S?.current)return;const We=`<page-break data-page-break="true" contenteditable="false" data-page-number="${S.current.querySelectorAll('page-break, [data-page-break="true"]').length+2}"></page-break><p><br></p>`;document.execCommand("insertHTML",!1,We),setTimeout(()=>{F();const Ke=q(k);d.setActivePage(Ke)},150)}},[F,q,d,k]),R=b.useCallback(j=>{if(O.length<=1){console.warn("Cannot delete the only page");return}re(j)&&(d.setActivePage(0),n&&n(j))},[O.length,re,d,n]),$=b.useCallback(()=>{d.zoomIn()},[d]),z=b.useCallback(()=>{d.zoomOut()},[d]),Y=b.useCallback(()=>{d.resetZoom()},[d]);b.useEffect(()=>{const j=J=>{if(J.ctrlKey||J.metaKey){["+","=","-","_","0"].includes(J.key)&&J.preventDefault();const ne=document.activeElement===S.current,We=document.activeElement===k.current,Ke=document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA"||document.activeElement?.isContentEditable===!1;if(ne||We||!Ke)switch(J.key){case"+":case"=":$();break;case"-":case"_":z();break;case"0":Y();break}}};return window.addEventListener("keydown",j),()=>{window.removeEventListener("keydown",j)}},[$,z,Y]);const v=b.useCallback(()=>{!k.current||!S.current||te.current||(V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{if(te.current){V.current=null;return}const j=q(k);j!==B&&j>=0&&d.setActivePage(j),V.current=null},cr))},[q,B,d]),ee=b.useMemo(()=>{if(!h)return 0;const J=h.replace(/<[^>]*>/g," ").match(/\b\w+\b/g);return J?J.length:0},[h]),de=O.length||1;return b.useEffect(()=>()=>{V.current&&clearTimeout(V.current)},[]),c.jsxs("div",{className:"multi-page-editor",children:[g&&c.jsx(Pe,{currentFormat:l,onFormatText:N,onAddPageBreak:C}),c.jsxs("div",{className:"editor-container",children:[u&&c.jsx(wt,{editorView:null,isCollapsed:ce,onToggle:()=>K(j=>!j),wordCount:ee,pageCount:de}),c.jsx("div",{className:"editor-viewport continuous-scroll",ref:k,onScroll:v,children:c.jsx(ke,{content:h,dimensions:oe,pageSize:w,pageMargins:x,pageBoundaries:O,editorRef:S,onInput:m,onClick:()=>S.current?.focus(),zoomLevel:P})}),p&&c.jsx("div",{className:"page-manager-sidebar",children:e?b.cloneElement(e,{onNavigate:D,onAddPage:M,onDeletePage:R,onPageSizeChange:A,onPageMarginsChange:T,zoomLevel:P,canZoomIn:Me(P),canZoomOut:je(P),onZoomIn:$,onZoomOut:z,onZoomReset:Y}):c.jsx(Rt,{pageBoundaries:O,activePage:B,pageSize:w,pageMargins:x,zoomLevel:P,canZoomIn:Me(P),canZoomOut:je(P),onNavigate:D,onAddPage:M,onDeletePage:R,onPageSizeChange:A,onPageMarginsChange:T,onZoomIn:$,onZoomOut:z,onZoomReset:Y})})]})]})});Ce.displayName="HtmlEditor",Ce.propTypes={pageManagerComponent:_.element,onNavigatePage:_.func,onAddPage:_.func,onDeletePage:_.func,onPageSizeChange:_.func,onPageMarginsChange:_.func,onChange:_.func,showSidebar:_.bool,showToolbar:_.bool,showPageManager:_.bool},Ce.defaultProps={pageManagerComponent:null,onNavigatePage:void 0,onAddPage:void 0,onDeletePage:void 0,onPageSizeChange:void 0,onPageMarginsChange:void 0,onChange:void 0,showSidebar:!0,showToolbar:!0,showPageManager:!0};class Ve extends b.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,i){console.error("[ErrorBoundary] Caught error:",t),console.error("[ErrorBoundary] Error info:",i),this.setState({error:t,errorInfo:i}),this.props.onError&&this.props.onError(t,i)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset&&this.props.onReset()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsxs("div",{style:{padding:"20px",margin:"20px",border:"2px solid #f44336",borderRadius:"4px",backgroundColor:"#ffebee",color:"#c62828"},children:[c.jsx("h2",{style:{marginTop:0},children:"⚠️ Something went wrong"}),c.jsx("p",{children:"The editor encountered an unexpected error and couldn't continue."}),this.props.showDetails&&this.state.error&&c.jsxs("details",{style:{marginTop:"10px",padding:"10px",backgroundColor:"white",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"},children:[c.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold"},children:"Error Details"}),c.jsxs("pre",{style:{marginTop:"10px",overflow:"auto",maxHeight:"200px"},children:[this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),c.jsx("button",{onClick:this.handleReset,style:{marginTop:"15px",padding:"8px 16px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Try Again"})]}):this.props.children}}Ve.propTypes={children:_.node.isRequired,fallback:_.node,onError:_.func,onReset:_.func,showDetails:_.bool},Ve.defaultProps={fallback:null,onError:void 0,onReset:void 0,showDetails:process.env.NODE_ENV==="development"};const ur={A4:{width:X.A4.width,height:X.A4.height},Letter:{width:X.Letter.width,height:X.Letter.height},Legal:{width:X.Legal.width,height:X.Legal.height}};L.COMMON_FONT_SIZES=mt,L.DEFAULT_FONT_SIZE=Te,L.DEFAULT_PAGE_SIZE=Re,L.DocumentProvider=Wt,L.EditorToolbar=Pe,L.ErrorBoundary=Ve,L.FONT_SIZE_MAP=Fe,L.HtmlEditor=Ce,L.PAGE_DIMENSIONS=ur,L.PAGE_SIZES=X,L.PageManager=Rt,L.PageView=ke,L.Sidebar=wt,L.clearImages=or,L.deleteImage=rr,L.getAllImageKeys=ar,L.getAvailablePageSizes=qt,L.getImage=nr,L.getPageDimensions=Ee,L.getPixelValue=on,L.getPointValue=an,L.isValidFontSize=sn,L.isValidPageSize=Gt,L.logger=Mt,L.pixelsToPoints=bt,L.pointsToPixels=yt,L.saveImage=Nt,L.useContinuousReflow=kt,L.useDocument=De,L.useDocumentActions=ze,L.useDocumentState=Le,L.useFormatting=vt,Object.defineProperty(L,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=htmleditor.umd.cjs.map
